"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const devkit_imports_1 = require("../devkit-imports");
const utils_1 = require("../utils");
exports.default = (0, devkit_imports_1.convertNxGenerator)(async (tree, options) => {
    // Remove angular-eslint specific options before passing to the Angular schematic
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    const { setParserOptionsProject, ...angularOptions } = options;
    const applicationGenerator = (0, devkit_imports_1.wrapAngularDevkitSchematic)('@schematics/angular', 'application');
    await applicationGenerator(tree, angularOptions);
    // Create the config file first so that we can check for its existence when setting the target
    (0, utils_1.createESLintConfigForProject)(tree, options.name, options.setParserOptionsProject ?? false);
    // Update the lint builder and config in angular.json
    (0, utils_1.addESLintTargetToProject)(tree, options.name, 'lint');
});
